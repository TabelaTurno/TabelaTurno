{"ast":null,"code":"import _classCallCheck from\"/Users/angelomaraujo/gits/TabelaTurno_WORKDIR/TabelaTurno/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/angelomaraujo/gits/TabelaTurno_WORKDIR/TabelaTurno/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/angelomaraujo/gits/TabelaTurno_WORKDIR/TabelaTurno/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/angelomaraujo/gits/TabelaTurno_WORKDIR/TabelaTurno/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/angelomaraujo/gits/TabelaTurno_WORKDIR/TabelaTurno/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/angelomaraujo/gits/TabelaTurno_WORKDIR/TabelaTurno/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import tabelaGear from'./tableGear';import{trackEvent}from'./analytics';Date.prototype.addDays=function(days){var date=new Date(this.valueOf());date.setDate(date.getDate()+days);return date;};function DateToStringFormated(date){return date.toLocaleDateString(\"pt\",{day:\"2-digit\",month:'short'}).replace(\" de \",\"/\");}function isSameDay(dateToCheck,dateToCheck2){return dateToCheck.getDate()===dateToCheck2.getDate()&&dateToCheck.getMonth()===dateToCheck2.getMonth()&&dateToCheck.getFullYear()===dateToCheck2.getFullYear();}function isToday(dateToCheck){return isSameDay(dateToCheck,new Date());}var weekDay=[\"Dom\",\"Seg\",\"Ter\",\"Qua\",\"Qui\",\"Sex\",\"Sáb\"];var styleClassDay=function styleClassDay(inProp){var redThing=['F',0,6];return redThing.includes(inProp)?\"tdF\":\"\";};var styleClassWeekDay=function styleClassWeekDay(inProp){var trClassList={0:'trSunday',1:'trMonday',2:'trTuesday',3:'trWednesday',4:'trThursday',5:'trFriday',6:'trSaturday'};return trClassList[inProp.getDay()];};var styleClassToday=function styleClassToday(inProp){return isToday(inProp)?\"tdToday\":\"\";};var eventClick=function eventClick(inLog){console.log(\"Click:\"+inLog);trackEvent('Click',inLog,'label2');return true;};var yearTD=function yearTD(day){return React.createElement(\"th\",{className:'tdDate',onClick:function onClick(){return eventClick(\"Ano\"+day.getFullYear());}},day.getFullYear());};var weekDayTD=function weekDayTD(day){var wd=day.getDay();var weekLabel=weekDay[wd].toUpperCase();return React.createElement(\"td\",{className:[styleClassDay(wd),'tdWeekCol'].join(' ')},weekLabel);};var dayTDfunc=function dayTDfunc(day){return day.schedule.map(function(scale,i){return React.createElement(\"td\",{key:i,className:styleClassDay(scale)},scale);});};var groupsTD=function groupsTD(groups){return groups.map(function(groupName,i){return React.createElement(\"th\",{key:i,onClick:function onClick(){return eventClick(\"Grupo \"+groupName);}},groupName);});};var daysTR=function daysTR(daysIn){return daysIn.map(function(day,i){return React.createElement(\"tr\",{key:i,className:[styleClassWeekDay(day.day),'trTable'].join(' ')},React.createElement(\"td\",{key:i,className:['tdDate',styleClassToday(day.day)].join(' ')},\" \",DateToStringFormated(day.day)),weekDayTD(day.day),dayTDfunc(day));});};/* <th>{objMonthScales[0].day.toLocaleDateString(\"pt\")}</th> */var monthTRHeader=function monthTRHeader(objMonthScales){return React.createElement(\"tr\",{className:'trHead'},yearTD(objMonthScales[0].day),React.createElement(\"th\",null,\"\\xA0\"),groupsTD(objMonthScales[0].groups));};var monthTRsComplete=function monthTRsComplete(daysIn){return[monthTRHeader(daysIn),daysTR(daysIn)];};var tBodyTable=function tBodyTable(monthsTRsIn){return React.createElement(\"tbody\",null,monthsTRsIn);};function getDistFromBottom(){var scrollPosition=window.pageYOffset;var windowSize=window.innerHeight;var bodyHeight=document.body.offsetHeight;return Math.max(bodyHeight-(scrollPosition+windowSize),0);}document.addEventListener('scroll',function(){var distToBottom=getDistFromBottom();if(distToBottom>0&&distToBottom<=1000){// Near end;\n}});var Tabela2=/*#__PURE__*/function(_React$Component){_inherits(Tabela2,_React$Component);function Tabela2(props){var _this;_classCallCheck(this,Tabela2);_this=_possibleConstructorReturn(this,_getPrototypeOf(Tabela2).call(this,props));var _this$props=_this.props,month=_this$props.month,tableName=_this$props.tableName;tabelaGear.populateTableDate(tableName);var dateIn=new Date();// GetToday\nvar days=tabelaGear.getMonthScales(dateIn);var beforeFirstMounthDay=new Date(dateIn.getFullYear(),dateIn.getMonth()-1,1);var daysbefore=tabelaGear.getMonthScales(beforeFirstMounthDay);_this.state={tableInput:tableName,dayOne:dateIn,actualDay:dateIn,monthsTRs:[monthTRsComplete(daysbefore),monthTRsComplete(days)]};//Load more 1 month\nvar extTick=_this.tick.bind(_assertThisInitialized(_this));extTick();return _this;}_createClass(Tabela2,[{key:\"tick\",value:function tick(){var dateIn=this.state.actualDay;var nextFirstMounthDay=new Date(dateIn.getFullYear(),dateIn.getMonth()+1,1);var nextMonthScale=tabelaGear.getMonthScales(nextFirstMounthDay);var newMonthsObj=this.state.monthsTRs;newMonthsObj.push(monthTRsComplete(nextMonthScale));this.setState({actualDay:nextFirstMounthDay,monthsTRs:newMonthsObj});// Track month loading\n//let trackAction = dateIn.getFullYear()+\"-\"+(dateIn.getMonth()+1);\n//console.log(trackAction);\n//trackEvent('Navigation', trackAction, 'label1');\n}},{key:\"componentDidMount\",value:function componentDidMount(){var extTick=this.tick.bind(this);document.addEventListener('scroll',function(){var distToBottom=getDistFromBottom();//console.log(distToBottom);\nif(distToBottom>0&&distToBottom<=1400){// Near end;\nconsole.log('dentro do reac');extTick();}});var timer=setTimeout(function(){window.scrollTo(0,document.getElementsByClassName(\"tdToday\")[0].offsetTop-135);//era 88 \n},50);}},{key:\"render\",value:function render(){return(/* <div className=\"tbContainer\">*/React.createElement(\"table\",{className:'tbMain'},tBodyTable(this.state.monthsTRs))/*</div>*/);}}]);return Tabela2;}(React.Component);export default Tabela2;","map":{"version":3,"sources":["/Users/angelomaraujo/gits/TabelaTurno_WORKDIR/TabelaTurno/src/tabela2.js"],"names":["React","tabelaGear","trackEvent","Date","prototype","addDays","days","date","valueOf","setDate","getDate","DateToStringFormated","toLocaleDateString","day","month","replace","isSameDay","dateToCheck","dateToCheck2","getMonth","getFullYear","isToday","weekDay","styleClassDay","inProp","redThing","includes","styleClassWeekDay","trClassList","getDay","styleClassToday","eventClick","inLog","console","log","yearTD","weekDayTD","wd","weekLabel","toUpperCase","join","dayTDfunc","schedule","map","scale","i","groupsTD","groups","groupName","daysTR","daysIn","monthTRHeader","objMonthScales","monthTRsComplete","tBodyTable","monthsTRsIn","getDistFromBottom","scrollPosition","window","pageYOffset","windowSize","innerHeight","bodyHeight","document","body","offsetHeight","Math","max","addEventListener","distToBottom","Tabela2","props","tableName","populateTableDate","dateIn","getMonthScales","beforeFirstMounthDay","daysbefore","state","tableInput","dayOne","actualDay","monthsTRs","extTick","tick","bind","nextFirstMounthDay","nextMonthScale","newMonthsObj","push","setState","timer","setTimeout","scrollTo","getElementsByClassName","offsetTop","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport tabelaGear from './tableGear';\nimport { trackEvent } from './analytics';\n\n\n\n\nDate.prototype.addDays = function(days) {\n    var date = new Date(this.valueOf());\n    date.setDate(date.getDate() + days);\n    return date;\n}\n\nfunction DateToStringFormated(date) {\n    return date.toLocaleDateString(\"pt\", {\n        day: \"2-digit\",\n        month: 'short'\n    }).replace(\" de \", \"/\");\n}\n\nfunction isSameDay(dateToCheck, dateToCheck2) {\n    return (dateToCheck.getDate() === dateToCheck2.getDate() \n        && dateToCheck.getMonth() === dateToCheck2.getMonth()\n        && dateToCheck.getFullYear() === dateToCheck2.getFullYear());\n}\n\nfunction isToday(dateToCheck) {\n    return isSameDay(dateToCheck, (new Date()));\n}\n\nconst weekDay = [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"];\n\nconst styleClassDay = function(inProp) {\n    let redThing = ['F', 0, 6];\n    return redThing.includes(inProp) ? \"tdF\" : \"\";\n};\n\nconst styleClassWeekDay = function(inProp) {\n    let trClassList = {0: 'trSunday', 1: 'trMonday', 2: 'trTuesday', 3: 'trWednesday', 4: 'trThursday', 5: 'trFriday', 6: 'trSaturday'};\n    return trClassList[inProp.getDay()]\n};\nconst styleClassToday = function(inProp) {\n    return isToday(inProp) ? \"tdToday\": \"\";\n}\nconst eventClick = function(inLog) {\n    console.log(\"Click:\" + inLog);\n    trackEvent('Click', inLog, 'label2');\n    return true;\n}\nconst yearTD = (day) => <th className={'tdDate'} onClick={() => eventClick(\"Ano\"+day.getFullYear())}>{day.getFullYear()}</th>;\nconst weekDayTD = (day) => {           \n    let wd = day.getDay();\n    let weekLabel = weekDay[wd].toUpperCase();\n    return <td className={[styleClassDay(wd), 'tdWeekCol'].join(' ')}>{weekLabel}</td>\n}\nconst dayTDfunc = (day) =>\n            day.schedule.map(\n                (scale, i) =>\n                    <td key={i} className={styleClassDay(scale)}>{scale}</td>\n            );\nconst groupsTD = (groups) => \n    groups.map((groupName, i) =>\n        <th key={i} onClick={() => eventClick(\"Grupo \"+groupName)}>{groupName}</th>\n    );\nconst daysTR = (daysIn) => daysIn.map((day, i) =>\n    <tr key={i} className={[styleClassWeekDay(day.day), 'trTable'].join(' ')}>\n    <td key={i} className={['tdDate', styleClassToday(day.day)].join(' ')} > {DateToStringFormated(day.day)}</td> \n        {weekDayTD(day.day)} \n        {dayTDfunc(day)} \n    </tr>\n);\n\n/* <th>{objMonthScales[0].day.toLocaleDateString(\"pt\")}</th> */\nconst monthTRHeader = (objMonthScales) =>\n    (   \n        <tr className={'trHead'}>\n            {yearTD(objMonthScales[0].day)}\n            <th>&nbsp;</th> \n            {groupsTD(objMonthScales[0].groups)} \n        </tr> \n        \n    );\nconst monthTRsComplete = (daysIn) => ([monthTRHeader(daysIn), daysTR(daysIn)]);\nconst tBodyTable = (monthsTRsIn) =>  (<tbody>{monthsTRsIn}</tbody>)\n\n\nfunction getDistFromBottom () {\n  \n    var scrollPosition = window.pageYOffset;\n    var windowSize     = window.innerHeight;\n    var bodyHeight     = document.body.offsetHeight;\n    return Math.max(bodyHeight - (scrollPosition + windowSize), 0);  \n  }\n\ndocument.addEventListener('scroll', function() {\n    let distToBottom = getDistFromBottom();\n    if (distToBottom > 0 && distToBottom <= 1000) { // Near end;\n       \n    }\n});\n\n\n\n\nclass Tabela2 extends React.Component {\n\n    constructor(props) {\n        super(props);\n        \n        const { month, tableName } = this.props;\n\n        tabelaGear.populateTableDate(tableName);\n        const dateIn = new Date(); // GetToday\n        const days = tabelaGear.getMonthScales(dateIn);\n\n        let beforeFirstMounthDay = new Date(dateIn.getFullYear(), dateIn.getMonth()-1, 1);\n        let daysbefore = tabelaGear.getMonthScales(beforeFirstMounthDay);\n\n        \n        this.state = { \n            tableInput: tableName,\n            dayOne: dateIn,\n            actualDay: dateIn,\n            monthsTRs: [monthTRsComplete(daysbefore), monthTRsComplete(days)],\n        }\n        //Load more 1 month\n        const extTick = this.tick.bind(this);\n        extTick();\n    }\n\n    tick()   {\n        const dateIn = this.state.actualDay;\n        let nextFirstMounthDay = new Date(dateIn.getFullYear(), dateIn.getMonth()+1, 1);\n        let nextMonthScale = tabelaGear.getMonthScales(nextFirstMounthDay);\n        let newMonthsObj = this.state.monthsTRs;\n        newMonthsObj.push(monthTRsComplete(nextMonthScale));\n        this.setState({actualDay: nextFirstMounthDay, monthsTRs: newMonthsObj });\n        \n        // Track month loading\n        //let trackAction = dateIn.getFullYear()+\"-\"+(dateIn.getMonth()+1);\n        //console.log(trackAction);\n        //trackEvent('Navigation', trackAction, 'label1');\n         \n     }\n\n    componentDidMount() {\n        const extTick = this.tick.bind(this);\n        document.addEventListener('scroll', function() {\n            let distToBottom = getDistFromBottom();\n            //console.log(distToBottom);\n            if (distToBottom > 0 && distToBottom <= 1400) { // Near end;\n               console.log('dentro do reac');\n               extTick();\n            }\n        });\n    \n        let timer = setTimeout(function () {\n            window.scrollTo(0, document.getElementsByClassName(\"tdToday\")[0].offsetTop - 135); //era 88 \n        }, 50);\n        \n    }\n\n\n    render() {  \n        return ( \n            /* <div className=\"tbContainer\">*/\n            <table className={'tbMain'}>\n                {tBodyTable(this.state.monthsTRs)}\n            </table>\n            /*</div>*/\n        )\n    }\n}\n\n\nTabela2.propTypes = {\n    //classes: PropTypes.object.isRequired,\n};\n\n\nexport default Tabela2;"]},"metadata":{},"sourceType":"module"}